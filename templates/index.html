<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laptop Shop - Products</title>
    <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Your Custom CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
   <!-- Navbar -->
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="{{ url_for('static', filename='images/Qualitron.png') }}" alt="Qualitron Logo" class="logo me-2">
    </a>

    <!-- Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav align-items-center gap-3">
        <li class="nav-item"><a class="nav-link active text-dark fw-semibold" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="/products">Laptops</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="/warranty">Warranty</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="/antivirus">Antivirus</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="/about">About Us</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="/contact">Contact Us</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Carousel -->
<div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
  </div>

  <div class="carousel-inner">

    <!-- Slide 1 -->
    <div class="carousel-item active">
      <img src="{{ url_for('static', filename='images/slide11.jpg') }}" class="d-block w-100" alt="Laptop Banner 1">
      <div class="carousel-caption">
        <h1>Find Your Perfect Laptop</h1>
        <p>Discover the latest laptops built for performance and productivity.</p>
        <a href="/products" class="btn btn-primary">Shop Now</a>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item">
      <img src="{{ url_for('static', filename='images/slide2.jpg') }}" class="d-block w-100" alt="Corporate Offers">
      <div class="carousel-caption">
        <h1>Corporate Offers</h1>
        <p>Upgrade your workspace with exclusive business laptop deals.</p>
        <a href="/products" class="btn btn-primary">Shop Now</a>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item">
      <img src="{{ url_for('static', filename='images/slide33.jpg') }}" class="d-block w-100" alt="Smart Deals">
      <div class="carousel-caption">
        <h1>Latest Offers & Smart Deals</h1>
        <p>Save big on premium laptops with extended warranties and free delivery.</p>
        <a href="/products" class="btn btn-primary">Shop Now</a>
      </div>
    </div>

  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>


    <section class="features">
        <div class="container">
            <h2>Why Choose Us?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üöö</div>
                    <h3>Fast Delivery</h3>
                    <p>Quick and reliable shipping</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí≥</div>
                    <h3>Secure Payment</h3>
                    <p>100% secure transactions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîß</div>
                    <h3>Warranty</h3>
                    <p>1-year manufacturer warranty</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåü</div>
                    <h3>Quality Products</h3>
                    <p>Only genuine products</p>
                </div>
            </div>
        </div>
    </section>


    <!-- Buying Guide Section -->
<section class="buying-guide py-5">
  <div class="container text-center">
    <h2 class="mb-5 fw-bold">Buying Guide</h2>
    <div class="row g-4 justify-content-center">

      <!-- Smartphone -->
      <div class="col-md-3">
        <div class="guide-card p-4 shadow-sm rounded-4 bg-light">
          <h5 class="fw-semibold mb-3">Find cheap and best laptops</h5>
          <a href="/cheap_laptops" class="btn btn-dark rounded-pill mb-4">Learn more</a>
          <img src="https://cdn.vectorstock.com/i/500p/10/52/cartoon-laptop-screen-vector-44511052.jpg" 
               alt="Cheap Laptops" class="img-fluid" style="max-height:180px;">
        </div>
      </div>

      <!-- TV -->
      <div class="col-md-3">
        <div class="guide-card p-4 shadow-sm rounded-4 bg-light">
          <h5 class="fw-semibold mb-3">Find your gaming laptops</h5>
          <a href="/gaming_laptop" class="btn btn-dark rounded-pill mb-4">Learn more</a>
          <img src="https://cdn.vectorstock.com/i/500p/10/52/cartoon-laptop-screen-vector-44511052.jpg" 
               alt="Gaming Info" class="img-fluid" style="max-height:180px;">
        </div>
      </div>

      <!-- Antivirus -->
      <div class="col-md-3">
        <div class="guide-card p-4 shadow-sm rounded-4 bg-light">
          <h5 class="fw-semibold mb-3">Find your Office laptops</h5>
          <a href="/office_laptops" class="btn btn-dark rounded-pill mb-4">Learn more</a>
          <img src="https://cdn.vectorstock.com/i/500p/10/52/cartoon-laptop-screen-vector-44511052.jpg" 
               alt="office laptops" class="img-fluid" style="max-height:180px;">
        </div>
      </div>

      <!-- Monitor -->
      <div class="col-md-3">
        <div class="guide-card p-4 shadow-sm rounded-4 bg-light">
          <h5 class="fw-semibold mb-3">Find Students laptops</h5>
          <a href="/students_laptops" class="btn btn-dark rounded-pill mb-4">Learn more</a>
          <img src="https://cdn.vectorstock.com/i/500p/10/52/cartoon-laptop-screen-vector-44511052.jpg" 
               alt="Students Laptops" class="img-fluid" style="max-height:180px;">
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Floating Chatbot Button -->
<div id="chatToggle" style="
    position: fixed;
    bottom: 25px;
    right: 25px;
    background: #2874f0;
    color: white;
    padding: 15px;
    border-radius: 50%;
    font-size: 22px;
    cursor: pointer;
    z-index: 9999;
">
üí¨
</div>

<!-- Chatbot Window -->
<div id="chatWindow" style="
    position: fixed;
    bottom: 90px;
    right: 25px;
    width: 350px;
    height: 470px;
    background: white;
    border-radius: 12px;
    display: none;
    flex-direction: column;
    box-shadow: 0 0 15px rgba(0,0,0,0.25);
    overflow: hidden;
    z-index: 9999;
">
    <div style="background:#2874f0; padding:12px; color:white; font-weight:600; display:flex; justify-content:space-between; align-items:center;">
        Laptop Support Bot
        <span id="closeChat" style="cursor:pointer; font-size: 20px;">‚úñ</span>
    </div>

    <div id="chatBody" style="flex:1; padding:12px; overflow-y:auto; background:#f5f5f5;"></div>

    <div style="padding:10px; background:white; display:flex; gap:5px;">
        <input type="text" id="chatInput" placeholder="Ask about laptops..." 
        style="flex:1; padding:8px; border:1px solid #ccc; border-radius:5px;">
        <button id="chatSend" style="
            background:#2874f0; color:white; border:none;
            padding:8px 12px; border-radius:5px; cursor:pointer;">Send</button>
    </div>
</div>

<script>
document.getElementById("chatToggle").onclick = () => {
    document.getElementById("chatWindow").style.display = "flex";
};
document.getElementById("closeChat").onclick = () => {
    document.getElementById("chatWindow").style.display = "none";
};

document.getElementById("chatSend").onclick = sendMessage;
document.getElementById("chatInput").addEventListener("keypress", e => {
    if (e.key === "Enter") sendMessage();
});

function sendMessage() {
    let input = document.getElementById("chatInput");
    let msg = input.value.trim();
    if (!msg) return;
    appendMessage(msg, "user");
    input.value = "";

    // Typing animation
    showTypingEffect(true);

    fetch("/chatbot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: msg })
    })
    .then(r => r.json())
    .then(data => {
        showTypingEffect(false);
        appendMessage(data.reply, "bot", data.image_url);
    });
}

function appendMessage(text, sender, img = null) {
    let box = document.getElementById("chatBody");
    let div = document.createElement("div");

    div.style.margin = "8px 0";
    div.style.padding = "10px";
    div.style.borderRadius = "8px";
    div.style.maxWidth = "85%";
    div.style.fontSize = "14px";
    div.style.whiteSpace = "pre-wrap";
    div.style.wordBreak = "break-word";

    if (sender === "user") {
        div.style.background = "#2874f0";
        div.style.color = "white";
        div.style.marginLeft = "auto";
    } else {
        div.style.background = "#e6e6e6";
        div.style.color = "black";
        div.style.marginRight = "auto";
    }

    // Text with emojis
    div.innerHTML = text;

    // Add laptop image if provided
    if (img) {
        let image = document.createElement("img");
        image.src = img;
        image.style.width = "100%";
        image.style.borderRadius = "8px";
        image.style.marginTop = "8px";
        div.appendChild(image);
    }

    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
}

function showTypingEffect(show) {
    let box = document.getElementById("chatBody");
    let existing = document.getElementById("typing");
    if (show) {
        if (!existing) {
            let div = document.createElement("div");
            div.id = "typing";
            div.style.margin = "6px 0";
            div.style.padding = "8px";
            div.style.fontSize = "13px";
            div.style.background = "#e6e6e6";
            div.style.color = "black";
            div.style.borderRadius = "8px";
            div.style.width = "fit-content";
            div.innerText = "Bot is typing‚Ä¶ ‚è≥";
            box.appendChild(div);
        }
    } else {
        if (existing) existing.remove();
    }
}
</script>

<!-- Shop Header -->
<section class="shop-header text-center py-5">
  <h2 class="fw-bold" style="font-size: 38px;">
    Shop in our Website
  </h2>
  <p class="text-muted" style="font-size: 18px;">
    Explore top laptop brands, accessories, gaming products & more
  </p>
</section>

<section class="categories">
  {% for c in categories %}
  <div class="category" style="background-image: url('{{ c.img }}');">
    <div class="card-overlay">
      <h3>{{ c.name }}</h3>
      <p>{{ c.desc }}</p>
      <button class="btn btn-light" href="{{ c.href }}">Explore</button>
    </div>
  </div>
  {% endfor %}
</section>




    <footer>
        <div class="container">
            <p>&copy; 2024 LaptopShop. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>